<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" width="30" height="30" tilewidth="16" tileheight="16">
 <properties>
  <property name="battleBackground" value="Cave.png"/>
  <property name="encounterRate" value="30"/>
  <property name="music" value="Dungeon.ogg"/>
  <property name="zone:1" value="Centopode,Centopode,Centopode|Batty,Batty,Batty,Batty|Cave Dog|Snake|Cave Dog,Batty,Batty|Centopode,Snake"/>
 </properties>
 <tileset firstgid="1" name="DqTileset" tilewidth="16" tileheight="16">
  <image source="../Tilesets/DqTileset.png" width="96" height="320"/>
 </tileset>
 <tileset firstgid="121" name="Hero2" tilewidth="16" tileheight="16">
  <image source="../Spritesheets/Hero2.png" width="160" height="128"/>
 </tileset>
 <tileset firstgid="201" name="Hero3" tilewidth="16" tileheight="16">
  <image source="../Spritesheets/Hero3.png" width="32" height="128"/>
 </tileset>
 <layer name="blocking" width="30" height="30">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,2,2,2,2,2,2,2,2,0,
2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,0,
2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,2,0,0,0,0,0,0,2,0,
2,0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0,2,2,0,0,2,0,0,0,0,0,0,2,0,
2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,0,0,0,0,2,2,0,
2,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,2,2,2,2,2,0,0,0,2,2,2,0,
2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,2,0,0,
2,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,
2,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,
2,2,0,0,0,0,0,0,0,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,
2,2,2,2,2,2,2,2,2,2,2,2,0,0,2,0,0,0,0,0,0,2,2,0,0,0,2,0,0,0,
0,2,2,2,2,2,2,2,2,2,0,0,0,0,2,2,2,2,2,0,2,2,2,2,2,0,2,2,0,0,
0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,2,2,2,2,2,0,2,2,2,0,
0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,2,2,2,2,0,0,2,2,2,
0,0,2,0,0,0,0,2,2,2,2,0,2,2,2,2,2,0,2,0,0,2,2,0,0,0,0,0,2,2,
0,0,2,0,2,2,2,2,2,2,2,0,2,2,2,2,2,0,2,0,0,0,0,0,2,2,0,0,0,2,
0,0,2,0,2,2,2,2,0,0,0,0,0,0,0,0,2,0,2,0,2,0,0,2,2,2,2,0,0,2,
0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,2,0,2,2,2,2,2,2,0,2,
0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,2,0,2,2,0,0,2,2,0,2,
0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,2,0,2,
0,0,2,0,2,2,0,0,0,0,0,0,0,0,0,0,2,0,2,2,0,0,0,0,0,0,2,2,0,2,
0,0,2,0,2,2,2,0,0,0,2,2,2,2,0,2,2,0,2,2,2,0,0,0,2,2,2,2,0,2,
0,0,2,0,0,2,2,2,2,2,2,2,2,2,0,2,2,0,0,2,2,2,2,2,2,2,2,2,0,2,
0,0,2,0,0,0,2,2,2,2,2,0,2,2,0,2,2,0,0,0,2,2,2,2,2,2,2,0,0,2,
0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,2,2,0,0,0,0,2,2,2,0,0,0,0,0,2,
0,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,2,
0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,2,2,2,2,
0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,2,2,0,2,2,2,2,0,0,0,2,2,2,2,0,
0,2,2,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,2,2,2,2,0,0,0,0,0
</data>
 </layer>
 <layer name="Tile Layer 1" width="30" height="30">
  <data encoding="csv">
38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,
39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,38,38,38,38,38,39,39,39,39,39,39,39,39,38,
39,40,40,40,40,40,40,40,40,40,40,40,40,40,40,39,39,39,38,38,38,39,40,40,40,40,40,40,39,38,
39,38,38,38,38,38,38,38,38,38,38,38,38,38,38,40,40,39,39,38,38,39,38,38,38,38,38,38,39,38,
39,38,38,38,39,39,39,39,39,39,39,39,39,39,38,38,38,40,39,38,38,39,38,38,38,38,38,38,39,38,
39,38,38,38,40,40,40,40,40,40,40,40,40,39,39,39,38,38,39,39,39,39,39,38,38,38,38,39,39,38,
39,38,38,38,38,38,38,38,38,38,38,38,38,40,40,40,39,38,40,40,40,40,40,38,38,38,39,39,40,38,
39,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,39,38,38,38,38,38,38,38,38,38,39,40,38,38,
39,38,38,38,38,38,38,38,38,38,38,39,39,39,39,38,39,39,39,39,39,39,39,39,39,39,39,38,38,38,
39,38,38,38,38,38,38,38,38,38,38,39,40,40,39,38,40,40,40,40,40,40,40,40,40,40,39,38,38,38,
39,39,38,38,38,38,38,38,38,39,39,39,38,38,39,38,38,38,38,38,38,38,38,38,38,38,39,38,38,38,
40,39,39,39,39,39,39,39,39,39,40,40,38,38,39,38,38,38,38,38,38,39,39,38,38,38,39,38,38,38,
38,40,39,40,40,40,40,40,40,40,38,38,38,38,39,39,39,39,39,38,39,39,39,39,39,38,39,39,38,38,
38,38,39,38,38,38,38,38,38,38,38,38,38,38,40,40,40,40,39,38,39,39,39,39,39,38,40,39,39,38,
38,38,39,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,39,38,40,39,39,40,40,38,38,40,39,39,
38,38,39,38,38,38,38,39,39,39,39,38,39,39,39,39,39,38,39,38,38,40,40,38,38,38,38,38,40,39,
38,38,39,38,39,39,39,39,40,40,40,38,40,40,40,40,39,38,39,38,38,38,38,38,39,39,38,38,38,39,
38,38,39,38,39,40,40,40,38,38,38,38,38,38,38,38,39,38,39,38,39,38,38,39,39,39,39,38,38,39,
38,38,39,38,39,38,38,38,38,38,38,38,38,38,38,38,39,38,39,38,39,38,39,39,40,40,39,39,38,39,
38,38,39,38,39,38,38,38,38,38,38,38,38,38,38,38,39,38,39,38,40,38,40,40,38,38,40,39,38,39,
38,38,39,38,39,38,38,38,38,38,38,38,38,38,38,38,39,38,39,38,38,38,38,38,38,38,38,39,38,39,
38,38,39,38,39,39,38,38,38,38,38,38,38,38,38,38,39,38,39,39,38,38,38,38,38,38,39,39,38,39,
38,38,39,38,40,39,39,38,38,38,39,39,39,39,38,39,39,38,40,39,39,38,38,38,39,39,39,40,38,39,
38,38,39,38,38,40,39,39,39,39,39,40,40,39,38,39,40,38,38,40,39,39,39,39,39,39,39,40,38,39,
38,38,39,38,38,38,40,40,40,40,40,38,39,39,38,39,39,38,38,38,40,39,39,39,40,40,40,38,38,39,
38,39,39,39,39,39,39,39,39,39,39,39,39,40,38,40,39,38,38,38,38,40,40,40,38,38,38,38,38,39,
38,39,40,40,40,40,40,40,40,40,40,40,40,38,38,38,39,38,38,38,38,38,38,38,38,38,38,38,39,39,
38,39,38,38,38,38,38,38,38,38,38,38,38,38,38,38,39,39,39,38,38,38,38,38,38,38,39,39,39,39,
38,39,39,39,39,39,39,39,39,39,39,39,39,39,38,39,39,40,39,39,39,39,38,38,38,39,39,39,39,39,
38,40,40,40,40,40,40,40,40,40,40,40,40,39,38,39,40,38,40,40,40,39,39,39,39,39,39,39,39,39
</data>
 </layer>
 <layer name="Tile Layer 2" width="30" height="30">
  <data encoding="csv">
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</data>
 </layer>
 <objectgroup name="Object Layer 1" width="30" height="30">
  <object name="warp" x="224" y="464" width="16" height="16">
   <properties>
    <property name="destMap" value="WorldMap.tmx"/>
    <property name="destX" value="4"/>
    <property name="destY" value="24"/>
   </properties>
  </object>
  <object name="Bert" gid="153" x="144" y="304">
   <properties>
    <property name="stepScript">
      if local[joined] == const[false]
        walk DIR_RANDOM
        wait 60
      else
        set_visible false
        set_walkthrough true
      endif
    </property>
    <property name="talkScript">
      if local[joined] == const[false]
        message Greetings hero. My name is Bert, a travelling wizard looking for the Orb of Light.
        message Huh?! You are also looking for the Orb of Light? Then let us join forces.
        add_member Bert Wizard 1
        set_visible false
        message Bert joined the party!
        set_local joined true
      endif
    </property>
    <property name="walkSpeed" value="0.05"/>
   </properties>
  </object>
  <object name="HerbChest" gid="129" x="32" y="448">
   <properties>
    <property name="fixedDirection" value="true"/>
    <property name="stepScript">
      if local[open] == const[true]
        set_dir DIR_DOWN
      endif
    </property>
    <property name="talkScript">
      if local[open] == const[false]
        play_sound Open1.wav
        set_dir DIR_DOWN
        message Found a Herb!
        give_item 1 Herb
        set_local open true
      else
        message Empty...
      endif
    </property>
   </properties>
  </object>
  <object name="zone" x="0" y="0" width="480" height="480">
   <properties>
    <property name="zoneId" value="1"/>
   </properties>
  </object>
  <object name="Demon" gid="207" x="384" y="64">
   <properties>
    <property name="stepScript">
        if local[defeated] == const[true]
          set_walkthrough true
          set_visible false
        endif
      </property>
    <property name="talkScript">
        if local[defeated] == const[false]
          message Fufufufu...
          message You will never get the Orb!!
          combat_no_escape Demonus
          message Aaarrghh... How can this be? The Dark Lord will avenge me...
          set_local defeated true
        endif
      </property>
   </properties>
  </object>
  <object name="HerbChest2" gid="129" x="64" y="384">
   <properties>
    <property name="fixedDirection" value="true"/>
    <property name="stepScript">
      if local[open] == const[true]
        set_dir DIR_DOWN
      endif
    </property>
    <property name="talkScript">
      if local[open] == const[false]
        play_sound Open1.wav
        set_dir DIR_DOWN
        message Found a Herb!
        give_item 1 Herb
        set_local open true
      else
        message Empty...
      endif
    </property>
   </properties>
  </object>
  <object name="GoldChest" gid="129" x="400" y="320">
   <properties>
    <property name="fixedDirection" value="true"/>
    <property name="stepScript">
      if local[open] == const[true]
        set_dir DIR_DOWN
      endif
    </property>
    <property name="talkScript">
      if local[open] == const[false]
        play_sound Open1.wav
        set_dir DIR_DOWN
        message Found 500 gold!
        give_gold 500
        set_local open true
      else
        message Empty...
      endif
    </property>
   </properties>
  </object>
  <object name="ClubChest" gid="129" x="112" y="304">
   <properties>
    <property name="fixedDirection" value="true"/>
    <property name="stepScript">
      if local[open] == const[true]
        set_dir DIR_DOWN
      endif
    </property>
    <property name="talkScript">
      if local[open] == const[false]
        play_sound Open1.wav
        set_dir DIR_DOWN
        message Found a Club!
        give_item 1 Club
        set_local open true
      else
        message Empty...
      endif
    </property>
   </properties>
  </object>
 </objectgroup>
</map>
